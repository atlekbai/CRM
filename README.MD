## CRM система для отслеживания въезжающих в страну лиц
<p align="center"> 
    <img src="https://cdn.dribbble.com/users/730703/screenshots/6047201/robo_reg_1024x1024_1x.jpg">
</p>

### Что было сделано?

- **Разработана архитектура базы данных**
    - person: Таблица с данными людьми
    - transaction: Транзакции (перелеты) людей с данными: откуда, куда, посетившие страные, номер рейса, дата рейса
    - record: Карточки человека, указывающая статус: госпитализирован, в поиске, мертв, здоров
    - user: Таблица с модераторами
- **Разработан Front-End для модератора**
    - Страница для добавления заполненных форм в базу данных.
        
        <p align="center">
            <img src="https://www.irislink.com/Documents/Image/_IrisLink2.0/readiris14/whatisocr/image-optical.png">
        </p>

        Реализована возможность авто-заполнения формы, если человек присутствуент в базе.

        Реализована возможность заполнения формы через распознавание текста по скану/фото формы.
    - Главная страница показывает данные.

        <p align="center">
            <img src="https://miro.medium.com/max/800/1*xhD2-Xa-jn1ve-jT0PLKTw.jpeg" width=400>
        </p>

        - Таблица с потенциально опасными транзакциями
        
            Как формируется?
            1. Находят "карточки"(record) у которых не safe статус.
            2. Последняя транзакция владельца record помечается опасной, находят транзакции которые пересекаются по следующему условию: все транзакции (вылеты и прилеты) в город который прилетел в диапозоне времени +1 час.
            3. Получаем ТОП-50 стран инфицированных от ВОЗ, и запрашиваем все транзакции в которых была указана страна из списка в качестве visited.
        - Таблица с последними транзакциями
    - Страница с данными людей
    - Страница-профиль человека отображающий журнал активности (транзакции и статусы) и данные
    
        Реализована возможность создания "карточки"(record) указывающий статус человека. Последняя созданная карточка указывает текущий статус человека.
        Каждая карточка сохраняется, это позволяет создать историю изменений профиля.
    
        Если создана "карточка" с названием "госпитализирован", "в поиске" или "мертв", то переформируется список потенциально опасных транзакции. Инструкции формирования описаны выше.
    - Страница отображающая детальную информацию выбранной транзакции
- **Разработан API**

    <p align="center">
        <img src="https://infozone.pro/wp-content/uploads/2019/07/telegram_vk_api_example.jpg" width=400>
    </p>

    - Возвращает актуальные данные по коронавирусу по странам.
    
        Получает данные с https://www.worldometers.info/coronavirus/#countries.

        Обновляет каждые 10 минут и сохраняет в кеше.
    - Формирует и возвращает список с потенциально опасными транзакциями
    - Формирует и возвращает журнал активности человека в отсортированном виде: карточки и транзакции.


### Стек технологий

- База данных: Hasura GraphQL (PostgreSQL).
- Front-End: React
- API: Python Flask
- Распознавание текста с изображения: Google AI Platform
- Docker

### Команда ✨

<table>
  <tr>
    <td align="center">
        <a href="https://github.com/atlekbai/"><img src="https://avatars0.githubusercontent.com/u/29381624?s=460&u=f83e35b2456f739567a4900ff3da2e3d038a411f&v=4" width="100px;" alt=""/><br />
            <sub><b>Ali Tlekbai</b></sub>
        </a><br />
    </td>
    <td align="center"><a href="https://github.com/Zulbukharov/"><img src="https://avatars3.githubusercontent.com/u/25000090?s=460&u=b035b85331398c75a59afb1917f0c64e2c3885be&v=4" width="100px;" alt=""/><br /><sub><b>Abylaikhan Zulbukharov</b></sub></a><br /></td>
    <td align="center"><a href="https://github.com/sakenism/"><img src="https://avatars0.githubusercontent.com/u/35443199?s=460&u=815602da8c211ac1d62db665018d5e64a6f824da&v=4" width="100px;" alt=""/><br /><sub><b>Saken Mukanov</b></sub></a><br /></td>
  </tr>
</table>